(()=>{"use strict";var e={812:(e,t,n)=>{n.r(t)},335:(e,t,n)=>{n.r(t),n.d(t,{getGrid:()=>a,oppositeMove:()=>o,crossOutWinnerCells:()=>u,showResultMessage:()=>m,showPlayersScores:()=>d});var r=n(44),a=function(){var e=document.createElement("div");e.classList.add("gameContainer");for(var t=0;t<9;t++){var n=document.createElement("div");n.classList.add("gridCell"),n.setAttribute("data-index",t.toString()),n.addEventListener("click",i,!0),e.appendChild(n)}return e},i=function(e){if(r.game.isActive()){var t=e.currentTarget,n=s(t);return r.game.changeGameState(n,r.currentPlayer),l(t,r.currentPlayer),r.game.checkResults(),o()}},o=function(){if(r.game.isActive()){var e=r.game.getRandomCellIndex(),t=document.querySelector("[data-index='"+e+"']");r.game.changeGameState(e,r.secondPlayer),l(t,r.secondPlayer),r.game.checkResults()}},s=function(e){return parseInt(e.getAttribute("data-index"))},l=function(e,t){e.innerHTML=t.getMark(),c(e)},c=function(e){return e.removeEventListener("click",i,!0),!0},u=function(e){e.forEach((function(e){document.querySelector("[data-index='"+e+"']").classList.add("crossedOut")}))},d=function(){var e=document.createElement("div");e.innerText=r.game.playerOne.getName()+": "+r.game.playerOne.getScore();var t=document.createElement("div");t.innerText=r.game.playerTwo.getName()+": "+r.game.playerTwo.getScore(),r.scoresContainer.innerHTML="",r.scoresContainer.append(e,t)},m=function(e){var t=document.querySelector(".messageContainer")||document.createElement("div");t.classList.add("messageContainer");var n,a=h();n=e.hasOwnProperty("name")?e.name+" has won!":"Draw",t.innerText=n,t.appendChild(a),r.appRoot.appendChild(t)},h=function(){var e=document.createElement("div");e.classList.add("buttonsContainer");var t=document.createElement("button");t.innerText="New game";var n=document.createElement("button");return n.innerText="Clear game",t.addEventListener("click",f),n.addEventListener("click",g),e.append(t,n),e},v=function(){document.querySelectorAll(".gridCell").forEach((function(e){e.classList.remove("crossedOut"),e.innerText="",e.addEventListener("click",i,!0)}))},f=function(){y(),v(),r.game.startNewRound(),r.game.firstTurn===r.game.playerTwo&&o()},g=function(){y(),v(),r.game.playerOne.setScoreToZero(),r.game.playerTwo.setScoreToZero(),d(),r.game.startNewRound(),r.game.firstTurn===r.game.playerTwo&&o()},y=function(){document.querySelector(".messageContainer").remove()}},44:(e,t,n)=>{n.r(t),n.d(t,{appRoot:()=>u,currentPlayer:()=>v,game:()=>g,scoresContainer:()=>d,secondPlayer:()=>f});var r=n(335);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.createPlayerAI();a(this,e),this.name=t.name,this.mark=t.mark,this.score=0}var t,n;return t=e,(n=[{key:"setMark",value:function(e){this.mark=e.toString()}},{key:"setScoreToZero",value:function(){this.score=0}},{key:"getMark",value:function(){return this.mark}},{key:"getName",value:function(){return this.name}},{key:"getScore",value:function(){return this.score}},{key:"addWin",value:function(){this.score++}},{key:"createPlayerAI",value:function(){return new e({name:"AI",mark:""})}},{key:"setOppositeMark",value:function(e){"X"===e.getMark()?this.setMark("O"):this.setMark("X")}}])&&i(t.prototype,n),e}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.createPlayerAI();s(this,e),this.playerOne=t,this.playerTwo=n,this.winner={},this.round=0,this.active=!0,this.firstTurn=Math.round(Math.random())?this.playerOne:this.playerTwo,this.gameCells=this.setCellsToDefault()}var t,n;return t=e,(n=[{key:"startNewRound",value:function(){this.firstTurn=Math.round(Math.random())?this.playerOne:this.playerTwo,this.round++,this.gameCells=this.setCellsToDefault(),this.winner={},this.active=!0}},{key:"isActive",value:function(){return this.active}},{key:"createPlayerAI",value:function(){return new o({name:"AI"})}},{key:"changeGameState",value:function(e,t){this.gameCells[e]=t}},{key:"getRandomCellIndex",value:function(){for(var e=[],t=0;t<this.gameCells.length;t++)""===this.gameCells[t]&&e.push(t);return e[Math.floor(Math.random()*e.length)]}},{key:"checkResults",value:function(){for(var e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],t=0;t<this.gameCells.length-1;t++){var n=e[t],a=this.gameCells[n[0]],i=this.gameCells[n[1]],o=this.gameCells[n[2]];if(""!==a&&""!==i&&""!==o&&a===i&&i===o)return this.active=!1,this.winner=a,a.addWin(),(0,r.crossOutWinnerCells)(n),(0,r.showResultMessage)(this.winner),(0,r.showPlayersScores)(),1}if(!this.gameCells.includes(""))return this.active=!1,this.winner="draw",this.playerOne.addWin(),this.playerTwo.addWin(),(0,r.showResultMessage)(this.winner),(0,r.showPlayersScores)(),0}},{key:"setCellsToDefault",value:function(){return["","","","","","","","",""]}}])&&l(t.prototype,n),e}();n(812),n(335);var u=document.getElementById("appRoot"),d=document.createElement("div");d.classList.add("scoresContainer"),u.appendChild(d),document.createElement("div").classList.add("buttonsContainer");var m=(0,r.getGrid)();u.appendChild(m);var h,v=new o({name:"Viktor",mark:"O"}),f=((h=new o).setOppositeMark(v),h),g=new c(v,f);(0,r.showPlayersScores)(),g.firstTurn===f&&(0,r.oppositeMove)()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(44)})();